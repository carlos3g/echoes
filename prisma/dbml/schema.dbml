//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id Int [pk, increment]
  uuid String [unique, not null]
  name String [not null]
  email String [unique, not null]
  password String [not null]
  emailVerifiedAt DateTime
  passwordChangeRequest password_change_request [not null]
  tags tags [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  userOnFavoritable tag_on_favoritable [not null]
}

Table password_change_request {
  token String [pk]
  user users [not null]
  userId Int [not null]
  createdAt DateTime [default: `now()`, not null]
}

Table quotes {
  id Int [pk, increment]
  uuid String [unique, not null]
  body String [not null]
  author authors
  authorId Int
  sources sources [not null]
  categories categories [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tagOnTaggable tag_on_taggable [not null]
  userOnFavoritable tag_on_favoritable [not null]
}

Table sources {
  id Int [pk, increment]
  uuid String [unique, not null]
  title String [not null]
  quote quotes [not null]
  quoteId Int [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table categories {
  id Int [pk, increment]
  uuid String [unique, not null]
  title String [not null]
  quotes quotes [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table authors {
  id Int [pk, increment]
  uuid String [unique, not null]
  name String [not null]
  birthDate DateTime [not null]
  deathDate DateTime
  bio String [not null]
  quotes quotes [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tagOnTaggable tag_on_taggable [not null]
  userOnFavoritable tag_on_favoritable [not null]
}

Table tags {
  id Int [pk, increment]
  uuid String [unique, not null]
  title String [not null]
  user users [not null]
  userId Int [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tagOnTaggable tag_on_taggable [not null]
}

Table tag_on_taggable {
  tag tags [not null]
  tagId Int [not null]
  author authors
  quote quotes
  taggableId Int [not null]
  taggableType TaggableType [not null]

  indexes {
    (tagId, taggableId, taggableType) [unique]
  }
}

Table tag_on_favoritable {
  user users [not null]
  userId Int [not null]
  author authors
  quote quotes
  favoritableId Int [not null]
  favoritableType FavoritableType [not null]

  indexes {
    (userId, favoritableId, favoritableType) [unique]
  }
}

Table CategoryToQuote {
  categoriesId Int [ref: > categories.id]
  quotesId Int [ref: > quotes.id]
}

Enum TaggableType {
  Author
  Quote
}

Enum FavoritableType {
  Author
  Quote
}

Ref: password_change_request.userId > users.id [delete: Cascade]

Ref: quotes.authorId > authors.id

Ref: sources.quoteId > quotes.id

Ref: tags.userId > users.id

Ref: tag_on_taggable.tagId > tags.id

Ref: tag_on_taggable.taggableId > authors.id

Ref: tag_on_taggable.taggableId > quotes.id

Ref: tag_on_favoritable.userId > users.id

Ref: tag_on_favoritable.favoritableId > authors.id

Ref: tag_on_favoritable.favoritableId > quotes.id